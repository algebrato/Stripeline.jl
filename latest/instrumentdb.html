<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Instrument database · Stripeline.jl</title><link href="https://cdnjs.cloudflare.com/ajax/libs/normalize/4.2.0/normalize.min.css" rel="stylesheet" type="text/css"/><link href="https://fonts.googleapis.com/css?family=Lato|Roboto+Mono" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/default.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.2.0/require.min.js" data-main="assets/documenter.js"></script><script src="siteinfo.js"></script><script src="../versions.js"></script><link href="assets/documenter.css" rel="stylesheet" type="text/css"/></head><body><nav class="toc"><h1>Stripeline.jl</h1><select id="version-selector" onChange="window.location.href=this.value" style="visibility: hidden"></select><form class="search" id="search-form" action="search.html"><input id="search-query" name="q" type="text" placeholder="Search docs"/></form><ul><li><a class="toctext" href="index.html">Introduction</a></li><li class="current"><a class="toctext" href="instrumentdb.html">Instrument database</a><ul class="internal"><li><a class="toctext" href="#Quick-introduction-1">Quick introduction</a></li><li><a class="toctext" href="#Structures-1">Structures</a></li><li><a class="toctext" href="#Loading-custom-databases-1">Loading custom databases</a></li></ul></li><li><a class="toctext" href="scanning.html">Scanning strategy</a></li><li><a class="toctext" href="simulation_tutorial.html">Simulation tutorial</a></li></ul></nav><article id="docs"><header><nav><ul><li><a href="instrumentdb.html">Instrument database</a></li></ul><a class="edit-page" href="https://github.com/lspestrip/Stripeline.jl/blob/master/docs/src/instrumentdb.md"><span class="fa"></span> Edit on GitHub</a></nav><hr/><div id="topbar"><span>Instrument database</span><a class="fa fa-bars" href="#"></a></div></header><h1><a class="nav-anchor" id="Instrument-database-1" href="#Instrument-database-1">Instrument database</a></h1><p><code>InstrumentDB</code> takes advantage of the structures <a href="instrumentdb.html#Stripeline.Detector"><code>Detector</code></a> and <a href="instrumentdb.html#Stripeline.Horn"><code>Horn</code></a> to retrieve information about feed horns and detectors from a YAML file. There are a set of YAML files containing the default configuration for the STRIP instrument in the repository.</p><h2><a class="nav-anchor" id="Quick-introduction-1" href="#Quick-introduction-1">Quick introduction</a></h2><p>The following example initializes an object of type <a href="instrumentdb.html#Stripeline.InstrumentDB"><code>InstrumentDB</code></a> with the values referred to the standard STRIP instrument:</p><pre><code class="language-julia-repl">
julia&gt; db = InstrumentDB()
InstrumentDB(49 horns, 66 detectors)</code></pre><p>As <code>db</code> is a <code>struct</code>, its field can be accessed with the usual dot notation. The two fields in <code>db</code> are <code>focalplane</code> and <code>detectors</code>. They are both dictionaries, associating horn names to <code>Horn</code> objects and detectors IDs to <code>Detector</code> objects, respectively:</p><pre><code class="language-julia-repl">julia&gt; db.focalplane[&quot;I0&quot;]
Horn I0, module 0 (indigo):
    Orientation: [0.0000, -0.0000, 1.0000]
    FWHM (X/Y): 0.3470 × 0.3440 °
    Spillover: 0.016704 (main), 0.013964 (sub)
    Cross-polarization: 44.53 dB
    Directivity: 54.76 dBi
    Ellipticity: 1.0080

julia&gt; db.detectors[2]
Detector STRIP02 (Q band):
    Center frequency: 43.39 ± 0.13 GHz
    Bandwidth: 7.53 ± 0.39 GHz
    Noise temperature: 31.5 ± 3.92 K
    Knee frequency: 90.0 ± 40.0 mHz (Q), 70.0 ± 40.0 mHz (U)</code></pre><p>The structure <code>Detector</code> is complex, as it is built over three other structures:</p><ul><li><a href="instrumentdb.html#Stripeline.BandshapeInfo"><code>BandshapeInfo</code></a></li><li><a href="instrumentdb.html#Stripeline.SpectrumInfo"><code>SpectrumInfo</code></a></li><li><a href="instrumentdb.html#Stripeline.NoiseTemperatureInfo"><code>NoiseTemperatureInfo</code></a></li></ul><p>All these structures know how to show themselves on the REPL:</p><pre><code class="language-julia-repl">julia&gt; db.detectors[2].bandshape
Bandshape:
    Center frequency: 43.39 ± 0.13 GHz
    Bandwidth: 7.53 ± 0.39 GHz
    Frequency range: [38.00, 50.00] GHz (121 points)
    Test ID: 355
    Analysis ID: 89

julia&gt; db.detectors[2].spectrum
Noise spectrum:
    Slope: I = 0.8585 ± 0.0000, Q = 0.6420 ± 0.0030, U = 0.3680 ± 0.0030
    Knee frequency: I = 0.0 ± 0.0 mHz, Q = 90.0 ± 40.0 mHz, U = 70.0 ± 40.0 mHz
    White noise: Q = 5.0 ± 1.0 mK^2 Hz, U = 2.6 ± 0.6 mK^2 Hz
    Test ID: 357
    Analysis ID: 15

julia&gt; db.detectors[2].tnoise
Noise temperature:
    Tnoise: 31.5 ± 3.9 K
    Estimates: [26.7, 27.1, 27.6, 28.2, 30.1, 31.1, 32.0, 33.6, 34.0, 35.1, 36.2, 39.7] K
    Test IDs: []
    Analysis IDs: [105, 106]</code></pre><p>For more information about the fields in the structures listed above, as well as their meaning, keep reading.</p><h2><a class="nav-anchor" id="Structures-1" href="#Structures-1">Structures</a></h2><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Stripeline.InstrumentDB" href="#Stripeline.InstrumentDB"><code>Stripeline.InstrumentDB</code></a> — <span class="docstring-category">Type</span>.</div><div><div><p>STRIP instrument database</p><p>The &quot;database&quot; contains information about feed horns and polarimeters:</p><ul><li><p>The field <code>focalplane</code> is a dictionary (mapping) associating the string identifying a horn (e.g., <code>I0</code>) with a <a href="instrumentdb.html#Stripeline.Horn"><code>Horn</code></a> structure;</p></li><li><p>The field <code>detectors</code> is a dictionary associating the ID of the polarimeter (e.g., 2 stands for <code>STRIP02</code>) with a <a href="instrumentdb.html#Stripeline.Detector"><code>Detector</code></a> structure.</p></li></ul><p>You should usually create an object of this kind using the default constructor, which parses a set of YAML files containing the real parameters of the instrument.</p><p><strong>Examples</strong></p><pre><code class="language-julia-repl">julia&gt; db = InstrumentDB();

julia&gt; print(&quot;Number of horns in the database: $(length(keys(db.focalplane)))&quot;)
Number of horns in the database: 49

julia&gt; print(&quot;Number of polarimeters in the database: $(length(keys(db.detectors)))&quot;)
Number of polarimeters in the database: 66</code></pre></div></div><a class="source-link" target="_blank" href="https://github.com/lspestrip/Stripeline.jl/blob/9e0cb096bfa2de436094b06b5d327c62257b751b/src/instrumentdb.jl#L309-L335">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Stripeline.Horn" href="#Stripeline.Horn"><code>Stripeline.Horn</code></a> — <span class="docstring-category">Type</span>.</div><div><div><p>Information about a STRIP horn</p><p>This structure holds a number of parameters relative to each feed horn in the STRIP focal plane.</p><p>You should initialize <code>Horn</code> objects via the <code>InstrumentDB</code> constructor, which loads their definition from a STRIP instrument database in YAML format.</p><table><tr><th>Field</th><th>Type</th><th>Meaning</th></tr><tr><td><code>name</code></td><td>String</td><td>Name of the horn, e.g., <code>I0</code></td></tr><tr><td><code>id</code></td><td>Int</td><td>Unique number of the horn, starting from 1</td></tr><tr><td><code>polid</code></td><td>Int</td><td>Unique ID of the polarimeter associated with the horn</td></tr><tr><td><code>moduleid</code></td><td>Int</td><td>Number of the horn within the module, from 0 to 6</td></tr><tr><td><code>color</code></td><td>String</td><td>Name of the color associated with the module</td></tr><tr><td><code>orientation</code></td><td>Array{Float64}</td><td>3D vector containing the orientation of the horn in the sky</td></tr><tr><td><code>fwhm_x_deg</code></td><td>Float64</td><td>FWHM of the beam along the X axis, in degrees</td></tr><tr><td><code>fwhm_y_deg</code></td><td>Float64</td><td>FWHM of the beam along the Y axis, in degrees</td></tr><tr><td><code>main_spillover</code></td><td>Float64</td><td>Main reflector spillover</td></tr><tr><td><code>sub_spillover</code></td><td>Float64</td><td>Sub-reflector spillover</td></tr><tr><td><code>xpd_db</code></td><td>Float64</td><td>Cross-polarization, in dB</td></tr><tr><td><code>directivity_dbi</code></td><td>Float64</td><td>Directivity, in dBi</td></tr><tr><td><code>ellipticity</code></td><td>Float64</td><td>Ellipticity</td></tr></table></div></div><a class="source-link" target="_blank" href="https://github.com/lspestrip/Stripeline.jl/blob/9e0cb096bfa2de436094b06b5d327c62257b751b/src/instrumentdb.jl#L8-L32">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Stripeline.Detector" href="#Stripeline.Detector"><code>Stripeline.Detector</code></a> — <span class="docstring-category">Type</span>.</div><div><div><p>Information about a STRIP detector</p><p>This structure holds information about a STRIP polarimeter.</p><p>You should initialize <code>Detector</code> objects via the <code>InstrumentDB</code> constructor, which loads their definition from a local STRIP instrument database.</p><table><tr><th>Field</th><th>Type</th><th>Meaning</th></tr><tr><td><code>id</code></td><td>Int</td><td>Integer ID of the polarimeter, e.g., <code>2</code> for <code>STRIP02</code></td></tr><tr><td><code>name</code></td><td>String</td><td>Full name of the polarimeter, e.g., <code>STRIP02</code></td></tr><tr><td><code>band</code></td><td>String</td><td>Band: it can either be <code>Q</code> or <code>W</code></td></tr><tr><td><code>bandshape</code></td><td>BandshapeInfo</td><td>Information about the bandpass response</td></tr><tr><td><code>spectrum</code></td><td>SpectrumInfo</td><td>Information about the noise spectrum (white noise and 1/f noise)</td></tr><tr><td><code>tnoise</code></td><td>NoiseTemperatureInfo</td><td>Information about the noise temperature</td></tr></table></div></div><a class="source-link" target="_blank" href="https://github.com/lspestrip/Stripeline.jl/blob/9e0cb096bfa2de436094b06b5d327c62257b751b/src/instrumentdb.jl#L263-L279">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Stripeline.BandshapeInfo" href="#Stripeline.BandshapeInfo"><code>Stripeline.BandshapeInfo</code></a> — <span class="docstring-category">Type</span>.</div><div><div><pre><code class="language-none">BandshapeInfo</code></pre><p>Information about the spectral band response of a polarimeter.</p><table><tr><th>Field</th><th>Type</th><th>Meaning</th></tr><tr><td><code>center_frequency_hz</code></td><td>Float64</td><td>Estimate for the center frequency, in Hz</td></tr><tr><td><code>center_frequency_err_hz</code></td><td>Float64</td><td>Estimated error on the center frequency, in Hz</td></tr><tr><td><code>bandwidth_hz</code></td><td>Float64</td><td>Estimated bandwidth, in Hz</td></tr><tr><td><code>bandwidth_err_hz</code></td><td>Float64</td><td>Estimated error on the bandwidth, in Hz</td></tr><tr><td><code>lowest_frequency_hz</code></td><td>Float64</td><td>Lowest frequency of the bandshape in <code>response</code>, in Hz</td></tr><tr><td><code>highest_frequency_hz</code></td><td>Float64</td><td>Highest frequency of the bandshape in <code>response</code>, in Hz</td></tr><tr><td><code>num_of_frequencies</code></td><td>Int</td><td>Number of samples in <code>response</code></td></tr><tr><td><code>response</code></td><td>Array{1,Float64}</td><td>Profile of the bandshape (pure numbers)</td></tr><tr><td><code>test_id</code></td><td>Int</td><td>ID of the unit-level test used to characterize the bandshape</td></tr><tr><td><code>analysis_id</code></td><td>Int</td><td>ID of the unit-level analysis used to characterize the bandshape</td></tr></table></div></div><a class="source-link" target="_blank" href="https://github.com/lspestrip/Stripeline.jl/blob/9e0cb096bfa2de436094b06b5d327c62257b751b/src/instrumentdb.jl#L71-L88">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Stripeline.SpectrumInfo" href="#Stripeline.SpectrumInfo"><code>Stripeline.SpectrumInfo</code></a> — <span class="docstring-category">Type</span>.</div><div><div><pre><code class="language-none">SpectrumInfo</code></pre><p>Information about the noise spectrum of the output of a polarimeter.</p><table><tr><th>Field</th><th>Type</th><th>Meaning</th></tr><tr><td><code>slope_i</code></td><td>Float64</td><td>The slope (<span>$\alpha$</span>) of the 1/f component of the noise in the I signal</td></tr><tr><td><code>slope_i_err</code></td><td>Float64</td><td>Error associated with the value of <code>slope_i</code></td></tr><tr><td><code>slope_q</code></td><td>Float64</td><td>Same as <code>slope_i</code>, but for the Q signal</td></tr><tr><td><code>slope_q_err</code></td><td>Float64</td><td>Error associated with the value of <code>slope_q</code></td></tr><tr><td><code>slope_u</code></td><td>Float64</td><td>Same as <code>slope_i</code>, but for the U signal</td></tr><tr><td><code>slope_u_err</code></td><td>Float64</td><td>Error associated with the value of <code>slope_u</code></td></tr><tr><td><code>fknee_i_hz</code></td><td>Float64</td><td>Knee frequency of the I signal, in Hz</td></tr><tr><td><code>fknee_i_err_hz</code></td><td>Float64</td><td>Error associated with the value of <code>fknee_i_hz</code></td></tr><tr><td><code>fknee_q_hz</code></td><td>Float64</td><td>Knee frequency of the Q signal, in Hz</td></tr><tr><td><code>fknee_q_err_hz</code></td><td>Float64</td><td>Error associated with the value of <code>fknee_q_hz</code></td></tr><tr><td><code>fknee_u_hz</code></td><td>Float64</td><td>Knee frequency of the U signal, in Hz</td></tr><tr><td><code>fknee_u_err_hz</code></td><td>Float64</td><td>Error associated with the value of <code>fknee_u_hz</code></td></tr><tr><td><code>wn_i_k2_hz</code></td><td>Float64</td><td>White noise level for the I signal, in K^2 Hz</td></tr><tr><td><code>wn_i_err_k2_hz</code></td><td>Float64</td><td>Error associated with the value of <code>wn_i_k2_hz</code></td></tr><tr><td><code>wn_q_k2_hz</code></td><td>Float64</td><td>White noise level for the Q signal, in K^2 Hz</td></tr><tr><td><code>wn_q_err_k2_hz</code></td><td>Float64</td><td>Error associated with the value of <code>wn_q_k2_hz</code></td></tr><tr><td><code>wn_u_k2_hz</code></td><td>Float64</td><td>White noise level for the U signal, in K^2 Hz</td></tr><tr><td><code>wn_u_err_k2_hz</code></td><td>Float64</td><td>Error associated with the value of <code>wn_u_k2_hz</code></td></tr><tr><td><code>test_id</code></td><td>Int</td><td>ID of the unit-level test used to characterize the bandshape</td></tr><tr><td><code>analysis_id</code></td><td>Int</td><td>ID of the unit-level analysis used to characterize the bandshape</td></tr></table></div></div><a class="source-link" target="_blank" href="https://github.com/lspestrip/Stripeline.jl/blob/9e0cb096bfa2de436094b06b5d327c62257b751b/src/instrumentdb.jl#L130-L157">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Stripeline.NoiseTemperatureInfo" href="#Stripeline.NoiseTemperatureInfo"><code>Stripeline.NoiseTemperatureInfo</code></a> — <span class="docstring-category">Type</span>.</div><div><div><pre><code class="language-none">NoiseTemperatureInfo</code></pre><p>Information about the noise temperature of a polarimeter. This structure is used for the field <code>tnoise</code> of the <code>Detector</code> struct.</p><table><tr><th>Field</th><th>Type</th><th>Meaning</th></tr><tr><td><code>tnoise_k</code></td><td>Float64</td><td>Noise temperature computed from <code>tnoise_values_k</code>, in K</td></tr><tr><td><code>tnoise_err_k</code></td><td>Float64</td><td>Error associated with <code>tnoise_k</code>, computed from <code>tnoise_values_k</code></td></tr><tr><td><code>test_ids</code></td><td>Array{Int,1}</td><td>List of unit-level test IDs used to estimate the noise temperature</td></tr><tr><td><code>analysis_ids</code></td><td>Array{Int,1}</td><td>List of unit-level analysis report IDs used to estimate the noise temperature</td></tr><tr><td><code>values_k</code></td><td>Array{Float64,1}</td><td>List of noise temperatures estimated from the tests</td></tr></table></div></div><a class="source-link" target="_blank" href="https://github.com/lspestrip/Stripeline.jl/blob/9e0cb096bfa2de436094b06b5d327c62257b751b/src/instrumentdb.jl#L215-L228">source</a></section><h2><a class="nav-anchor" id="Loading-custom-databases-1" href="#Loading-custom-databases-1">Loading custom databases</a></h2><p>It is not needed to load the default instrument database, as Stripeline provides a number of additional functions to build mock databases from dictionaries.</p><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Stripeline.defaultdbfolder" href="#Stripeline.defaultdbfolder"><code>Stripeline.defaultdbfolder</code></a> — <span class="docstring-category">Function</span>.</div><div><div><pre><code class="language-none">defaultdbfolder()</code></pre><p>Return a string containing the (local) full path to the YAML files containing the reference instrument DB.</p></div></div><a class="source-link" target="_blank" href="https://github.com/lspestrip/Stripeline.jl/blob/9e0cb096bfa2de436094b06b5d327c62257b751b/src/instrumentdb.jl#L476-L481">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Stripeline.parsefpdict" href="#Stripeline.parsefpdict"><code>Stripeline.parsefpdict</code></a> — <span class="docstring-category">Function</span>.</div><div><div><pre><code class="language-none">parsefpdict(fpdict)</code></pre><p>Return a dictionary associating an horn name (e.g., <code>I0</code>) to a <code>Horn</code> object containing information about some horn in the STRIP focal plane. The information are parsed from <code>fpdict</code>, which should be a dictionary loaded from a YAML file. The default YAML file to be used is located in the folder returned by <a href="instrumentdb.html#Stripeline.defaultdbfolder"><code>defaultdbfolder</code></a> and is usually named <code>strip_focal_plane.yaml</code></p></div></div><a class="source-link" target="_blank" href="https://github.com/lspestrip/Stripeline.jl/blob/9e0cb096bfa2de436094b06b5d327c62257b751b/src/instrumentdb.jl#L347-L355">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Stripeline.parsedetdict" href="#Stripeline.parsedetdict"><code>Stripeline.parsedetdict</code></a> — <span class="docstring-category">Function</span>.</div><div><div><pre><code class="language-none">parsedetdict(detdict)</code></pre><p>Return a dictionary associating an integer number to a <code>Detector</code> object containing information about the STRIP detector with the corresponding number. The information are parsed from <code>detdict</code>, which should be a dictionary loaded from a YAML file. The default YAML file to be used is located in the folder returned by <a href="instrumentdb.html#Stripeline.defaultdbfolder"><code>defaultdbfolder</code></a> and is usually named <code>strip_detectors.yaml</code></p></div></div><a class="source-link" target="_blank" href="https://github.com/lspestrip/Stripeline.jl/blob/9e0cb096bfa2de436094b06b5d327c62257b751b/src/instrumentdb.jl#L428-L437">source</a></section><footer><hr/><a class="previous" href="index.html"><span class="direction">Previous</span><span class="title">Introduction</span></a><a class="next" href="scanning.html"><span class="direction">Next</span><span class="title">Scanning strategy</span></a></footer></article></body></html>
